import{h as we,j as e,u as Ae,e as Pe,r as h,B as s,Z as Se,A as We,T as r,d as j,C as ee,G as ae,q as p,m as w,o as f,X as ke,Y as Te,a4 as De,a2 as Ie,g as c,aa as Ee,a3 as A,S as te,F as $e,I as Me,H as Ve,M as H,_ as He,$ as Ne,a0 as Re,D as N,a1 as qe}from"./index-Bht4W_XB.js";import{A as Be}from"./Add-DiWVIyx1.js";import{V as Ge}from"./Visibility-CNTXwbS0.js";import{C as se}from"./CloudUpload-CFRu4ws6.js";import{F as b}from"./FormControlLabel-tYz6Extn.js";import{R as Fe,a as re}from"./RadioGroup-PvvlxH76.js";const Le=we(e.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"})),ie=Ee(s)(({theme:l})=>({border:"2px dashed #e0e0e0",borderRadius:l.shape.borderRadius,padding:l.spacing(3),textAlign:"center",backgroundColor:l.palette.grey[50],cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"150px","&:hover":{borderColor:l.palette.primary.main},'& input[type="file"]':{display:"none"}}));function ze(l){const{children:C,value:P,index:S,...I}=l;return e.jsx("div",{role:"tabpanel",hidden:P!==S,id:`simple-tabpanel-${S}`,"aria-labelledby":`simple-tab-${S}`,...I,children:P===S&&e.jsx(s,{sx:{p:3},children:C})})}function Oe(l){return{id:`simple-tab-${l}`,"aria-controls":`simple-tabpanel-${l}`}}const Ke=()=>{const l=Ae(),C=Pe(l.breakpoints.down("md")),P="https://api.bookmyevent.ae/api",[S,I]=h.useState("list"),[L,ne]=h.useState([]),[le,z]=h.useState(!0),[i,oe]=h.useState(null),[ce,R]=h.useState(!1),[q,O]=h.useState({}),[k,B]=h.useState(1),[G,de]=h.useState(1),[ue,he]=h.useState(0),[ge,v]=h.useState(!1),[me,T]=h.useState("success"),[xe,W]=h.useState(""),[$,M]=h.useState(!1),[t,E]=h.useState({venueName:"",shortDescription:"",venueAddress:"",latitude:"",longitude:"",language:"EN",contactPhone:"",contactEmail:"",contactWebsite:"",ownerManagerName:"",ownerManagerPhone:"",ownerManagerEmail:"",openingHours:"",closingHours:"",holidaySchedule:"",watermarkProtection:!1,parkingAvailability:!1,parkingCapacity:"",foodCateringAvailability:!1,stageLightingAudio:!1,wheelchairAccessibility:!1,securityArrangements:!1,wifiAvailability:!1,washroomsInfo:"",dressingRooms:"",rentalType:"hourly",hourlyPrice:"",perDayPrice:"",distanceWisePrice:"",discount:"",customPackages:"",dynamicPricing:!1,advanceDeposit:"",cancellationPolicy:"",extraCharges:"",seatingArrangement:"",maxGuestsSeated:"",maxGuestsStanding:"",multipleHalls:!1,nearbyTransport:"",accessibilityInfo:"",searchTags:"",thumbnail:null,images:[],documents:[]}),[D,U]=h.useState(null),[_,J]=h.useState(0);h.useEffect(()=>{S==="list"&&F(k)},[S,k]);const F=async(a=1)=>{z(!0);try{const u=await(await fetch(`${P}/venues?page=${a}&limit=10`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();if(u.success){const g=u.data.map(m=>{const x=d=>{if(!d)return null;if(d.startsWith("http://")||d.startsWith("https://"))return d;let y;if(d.includes("\\")||d.includes("Uploads")){const K=d.toLowerCase().indexOf("uploads");K!==-1?y=d.substring(K).replace(/\\/g,"/"):(y=d.split(/[\\\/]/).pop(),y=`uploads/venues/${y}`)}else d.startsWith("/uploads/")||d.startsWith("uploads/")?y=d.replace(/^\//,""):y=d.replace(/^\//,"");const Z=`${P.replace("/api","")}/${y.toLowerCase()}`;return console.log("Path conversion:",{original:d,final:Z}),Z};return{...m,thumbnail:x(m.thumbnail),images:m.images?m.images.map(d=>x(d)):[]}});console.log("Sample venue URLs:",{thumbnail:g[0]?.thumbnail,firstImage:g[0]?.images?.[0]}),ne(g),he(u.count||0),de(Math.ceil(u.count/10)),B(a)}else throw new Error(u.message||"Failed to fetch venues")}catch(o){W("Error fetching venues: "+o.message),T("error"),v(!0)}finally{z(!1)}},n=a=>o=>{const u=o.target.type==="checkbox"?o.target.checked:o.target.value;E(g=>({...g,[a]:u}))},Q=a=>o=>{const u=Array.from(o.target.files);E(g=>({...g,[a]:u}))},X=a=>o=>{o.preventDefault();const u=Array.from(o.dataTransfer.files);E(g=>({...g,[a]:u}))},V=()=>{E({venueName:"",shortDescription:"",venueAddress:"",latitude:"",longitude:"",language:"EN",contactPhone:"",contactEmail:"",contactWebsite:"",ownerManagerName:"",ownerManagerPhone:"",ownerManagerEmail:"",openingHours:"",closingHours:"",holidaySchedule:"",watermarkProtection:!1,parkingAvailability:!1,parkingCapacity:"",foodCateringAvailability:!1,stageLightingAudio:!1,wheelchairAccessibility:!1,securityArrangements:!1,wifiAvailability:!1,washroomsInfo:"",dressingRooms:"",rentalType:"hourly",hourlyPrice:"",perDayPrice:"",distanceWisePrice:"",discount:"",customPackages:"",dynamicPricing:!1,advanceDeposit:"",cancellationPolicy:"",extraCharges:"",seatingArrangement:"",maxGuestsSeated:"",maxGuestsStanding:"",multipleHalls:!1,nearbyTransport:"",accessibilityInfo:"",searchTags:"",thumbnail:null,images:[],documents:[]}),U(null),J(0)},pe=()=>{const a=[];return t.venueName.trim()||a.push("Venue name is required"),t.venueAddress.trim()||a.push("Venue address is required"),t.contactPhone.trim()||a.push("Contact phone is required"),t.contactEmail.trim()||a.push("Contact email is required"),t.ownerManagerName.trim()||a.push("Owner/Manager name is required"),t.openingHours.trim()||a.push("Opening hours are required"),t.closingHours.trim()||a.push("Closing hours are required"),t.seatingArrangement||a.push("Seating arrangement is required"),t.maxGuestsSeated||a.push("Max guests seated is required"),t.rentalType==="hourly"&&!t.hourlyPrice&&a.push("Hourly price is required"),t.rentalType==="daily"&&!t.perDayPrice&&a.push("Daily price is required"),t.contactEmail&&!/\S+@\S+\.\S+/.test(t.contactEmail)&&a.push("Valid contact email is required"),t.ownerManagerEmail&&!/\S+@\S+\.\S+/.test(t.ownerManagerEmail)&&a.push("Valid owner/manager email is required"),t.latitude&&isNaN(parseFloat(t.latitude))&&a.push("Valid latitude is required"),t.longitude&&isNaN(parseFloat(t.longitude))&&a.push("Valid longitude is required"),a},be=async a=>{if(a.preventDefault(),M(!0),W(""),!localStorage.getItem("token")){W("Authentication required. Please log in again."),T("error"),v(!0),M(!1);return}const u=pe();if(u.length>0){W(u.join(", ")),T("error"),v(!0),M(!1);return}const g=new FormData;Object.entries(t).forEach(([m,x])=>{m==="thumbnail"&&x?g.append("thumbnail",x[0]):m==="images"&&x.length?x.forEach(d=>g.append("images",d)):m==="documents"&&x.length?x.forEach(d=>g.append("documents",d)):m!=="thumbnail"&&m!=="images"&&m!=="documents"&&g.append(m,x??"")}),g.append("provider",localStorage.getItem("userId")||"68c2e5e707259c009c62f8fe");try{const m=D?`${P}/venues/${D}`:`${P}/venues`,y=await(await fetch(m,{method:D?"PUT":"POST",body:g,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(y.success)W(D?"Venue updated successfully":"Venue created successfully"),T("success"),v(!0),V(),I("list"),F(k);else throw new Error(y.message||"Failed to process venue")}catch(m){W(`Error ${D?"updating":"creating"} venue: ${m.message}`),T("error"),v(!0)}finally{M(!1)}},ye=a=>{E({venueName:a.venueName||"",shortDescription:a.shortDescription||"",venueAddress:a.venueAddress||"",latitude:a.latitude||"",longitude:a.longitude||"",language:a.language||"EN",contactPhone:a.contactPhone||"",contactEmail:a.contactEmail||"",contactWebsite:a.contactWebsite||"",ownerManagerName:a.ownerManagerName||"",ownerManagerPhone:a.ownerManagerPhone||"",ownerManagerEmail:a.ownerManagerEmail||"",openingHours:a.openingHours||"",closingHours:a.closingHours||"",holidaySchedule:a.holidaySchedule||"",watermarkProtection:a.watermarkProtection||!1,parkingAvailability:a.parkingAvailability||!1,parkingCapacity:a.parkingCapacity||"",foodCateringAvailability:a.foodCateringAvailability||!1,stageLightingAudio:a.stageLightingAudio||!1,wheelchairAccessibility:a.wheelchairAccessibility||!1,securityArrangements:a.securityArrangements||!1,wifiAvailability:a.wifiAvailability||!1,washroomsInfo:a.washroomsInfo||"",dressingRooms:a.dressingRooms||"",rentalType:a.rentalType||"hourly",hourlyPrice:a.hourlyPrice||"",perDayPrice:a.perDayPrice||"",distanceWisePrice:a.distanceWisePrice||"",discount:a.discount||"",customPackages:a.customPackages||"",dynamicPricing:a.dynamicPricing||!1,advanceDeposit:a.advanceDeposit||"",cancellationPolicy:a.cancellationPolicy||"",extraCharges:a.extraCharges||"",seatingArrangement:a.seatingArrangement||"",maxGuestsSeated:a.maxGuestsSeated||"",maxGuestsStanding:a.maxGuestsStanding||"",multipleHalls:a.multipleHalls||!1,nearbyTransport:a.nearbyTransport||"",accessibilityInfo:a.accessibilityInfo||"",searchTags:a.searchTags||"",thumbnail:null,images:[],documents:[]}),U(a._id),I("create")},je=async a=>{if(window.confirm("Are you sure you want to delete this venue?"))try{const u=await(await fetch(`${P}/venues/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();if(u.success)W("Venue deleted successfully"),T("success"),v(!0),F(k);else throw new Error(u.message||"Failed to delete venue")}catch(o){W("Error deleting venue: "+o.message),T("error"),v(!0)}},Y=a=>{O(o=>({...o,[a]:!0}))},fe=()=>e.jsxs(s,{children:[e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(s,{children:[e.jsx(r,{variant:"h5",children:"Venue Management"}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["Total: ",ue," venues"]})]}),e.jsx(j,{variant:"contained",startIcon:e.jsx(Be,{}),onClick:()=>{V(),I("create")},children:"Add New Venue"})]}),le?e.jsx(s,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ee,{})}):L.length>0?e.jsx(ae,{container:!0,spacing:3,children:L.map(a=>e.jsx(ae,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(p,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(s,{sx:{position:"relative",height:200,overflow:"hidden",bgcolor:"grey.200"},children:[!q[a._id]&&a.thumbnail?e.jsx("img",{src:a.thumbnail,alt:a.venueName,style:{width:"100%",height:"100%",objectFit:"cover"},onError:()=>Y(a._id)}):e.jsx(s,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.300"},children:e.jsx(r,{variant:"body2",color:"text.secondary",children:"No Image"})}),e.jsx(s,{sx:{position:"absolute",top:8,right:8,bgcolor:a.isActive?"success.main":"error.main",color:"white",px:1,py:.5,borderRadius:1,fontSize:"0.75rem"},children:a.isActive?"Active":"Inactive"})]}),e.jsxs(w,{sx:{flexGrow:1,p:2},children:[e.jsx(r,{variant:"h6",noWrap:!0,gutterBottom:!0,children:a.venueName}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:1},children:a.venueAddress}),e.jsxs(s,{sx:{display:"flex",gap:1,mb:2,flexWrap:"wrap"},children:[e.jsx(f,{label:a.rentalType,size:"small",color:"primary",variant:"outlined"}),e.jsx(f,{label:`Seats: ${a.maxGuestsSeated||"N/A"}`,size:"small",variant:"outlined"})]}),e.jsxs(r,{variant:"body2",color:"primary",sx:{fontWeight:600},children:[a.rentalType==="hourly"&&`$${a.hourlyPrice}/hour`,a.rentalType==="daily"&&`$${a.perDayPrice}/day`,a.rentalType==="distanceWise"&&`$${a.distanceWisePrice}/km`]})]}),e.jsxs(s,{sx:{p:2,pt:0,display:"flex",gap:1},children:[e.jsx(j,{size:"small",startIcon:e.jsx(Ge,{}),onClick:()=>{oe(a),R(!0)},children:"View"}),e.jsx(j,{size:"small",startIcon:e.jsx(ke,{}),color:"info",onClick:()=>ye(a),children:"Edit"}),e.jsx(j,{size:"small",startIcon:e.jsx(Te,{}),color:"error",onClick:()=>je(a._id),children:"Delete"})]})]})},a._id))}):e.jsx(r,{children:"No venues found."}),G>1&&e.jsxs(s,{sx:{display:"flex",justifyContent:"center",mt:4},children:[e.jsx(j,{disabled:k===1,onClick:()=>B(a=>a-1),children:"Previous"}),e.jsxs(r,{sx:{mx:2,alignSelf:"center"},children:["Page ",k," of ",G]}),e.jsx(j,{disabled:k===G,onClick:()=>B(a=>a+1),children:"Next"})]})]}),Ce=()=>e.jsx(He,{open:ce,onClose:()=>R(!1),maxWidth:"md",fullWidth:!0,children:i&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{children:e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(r,{variant:"h6",children:i.venueName}),e.jsx(f,{label:i.isActive?"Active":"Inactive",color:i.isActive?"success":"error"})]})}),e.jsxs(Re,{children:[e.jsx(s,{sx:{mb:2},children:i.thumbnail&&!q[i._id]?e.jsx("img",{src:i.thumbnail,alt:i.venueName,style:{width:"100%",maxHeight:300,objectFit:"cover",borderRadius:l.shape.borderRadius},onError:()=>Y(i._id)}):e.jsx(s,{sx:{width:"100%",height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.200",borderRadius:l.shape.borderRadius},children:e.jsx(r,{variant:"body1",color:"text.secondary",children:"No Thumbnail"})})}),e.jsx(r,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Basic Information"}),e.jsxs(s,{sx:{mb:2},children:[e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Address:"})," ",i.venueAddress]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Contact Phone:"})," ",i.contactPhone]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Contact Email:"})," ",i.contactEmail]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Owner/Manager:"})," ",i.ownerManagerName]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Hours:"})," ",i.openingHours," - ",i.closingHours]})]}),e.jsx(N,{sx:{my:2}}),e.jsx(r,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Capacity & Pricing"}),e.jsxs(s,{sx:{mb:2},children:[e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Seating Arrangement:"})," ",i.seatingArrangement]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Max Guests (Seated):"})," ",i.maxGuestsSeated]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Max Guests (Standing):"})," ",i.maxGuestsStanding]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Rental Type:"})," ",i.rentalType]}),e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Price:"}),i.rentalType==="hourly"&&` $${i.hourlyPrice}/hour`,i.rentalType==="daily"&&` $${i.perDayPrice}/day`,i.rentalType==="distanceWise"&&` $${i.distanceWisePrice}/km`]}),i.discount&&e.jsxs(r,{variant:"body2",children:[e.jsx("strong",{children:"Discount:"})," ",i.discount,"%"]})]}),e.jsx(N,{sx:{my:2}}),e.jsx(r,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Facilities"}),e.jsxs(s,{sx:{display:"flex",gap:1,flexWrap:"wrap",mb:2},children:[i.parkingAvailability&&e.jsx(f,{label:"Parking Available",size:"small",color:"success"}),i.foodCateringAvailability&&e.jsx(f,{label:"Food & Catering",size:"small",color:"success"}),i.stageLightingAudio&&e.jsx(f,{label:"Stage/Lighting/Audio",size:"small",color:"success"}),i.wheelchairAccessibility&&e.jsx(f,{label:"Wheelchair Accessible",size:"small",color:"success"}),i.securityArrangements&&e.jsx(f,{label:"Security",size:"small",color:"success"}),i.wifiAvailability&&e.jsx(f,{label:"Wi-Fi",size:"small",color:"success"})]}),i.searchTags&&e.jsxs(e.Fragment,{children:[e.jsx(N,{sx:{my:2}}),e.jsx(r,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Tags"}),e.jsx(s,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:i.searchTags.split(",").map((a,o)=>e.jsx(f,{label:a.trim(),size:"small",variant:"outlined"},o))})]}),i.images&&i.images.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(N,{sx:{my:2}}),e.jsx(r,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Gallery"}),e.jsx(s,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:i.images.map((a,o)=>!q[`${i._id}-${o}`]&&a?e.jsx("img",{src:a,alt:`Gallery ${o+1}`,style:{width:100,height:100,objectFit:"cover",borderRadius:l.shape.borderRadius},onError:()=>O(u=>({...u,[`${i._id}-${o}`]:!0}))},o):e.jsx(s,{sx:{width:100,height:100,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"grey.200",borderRadius:l.shape.borderRadius},children:e.jsx(r,{variant:"caption",color:"text.secondary",children:"No Image"})},o))})]})]}),e.jsx(qe,{children:e.jsx(j,{onClick:()=>R(!1),children:"Close"})})]})}),ve=()=>e.jsxs(s,{children:[e.jsx(s,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(j,{startIcon:e.jsx(Le,{}),onClick:()=>{V(),I("list")},variant:"outlined",children:"Back to List"}),e.jsx(r,{variant:"h5",children:D?"Edit Venue":"Add New Venue"})]})}),e.jsxs(s,{component:"form",onSubmit:be,children:[e.jsxs(s,{sx:{display:"flex",flexDirection:C?"column":"row",gap:3,mb:4},children:[e.jsx(p,{sx:{flex:C?"auto":2,p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"General Information"}),e.jsx(s,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:e.jsx(De,{value:_,onChange:(a,o)=>J(o),"aria-label":"language tabs",children:e.jsx(Ie,{label:"Default",...Oe(0)})})}),e.jsxs(ze,{value:_,index:0,children:[e.jsx(c,{fullWidth:!0,label:"Venue Name*",value:t.venueName,onChange:n("venueName"),sx:{mb:2},required:!0}),e.jsx(c,{fullWidth:!0,label:"Short Description",multiline:!0,rows:4,value:t.shortDescription,onChange:n("shortDescription"),sx:{mb:2}})]}),e.jsx(c,{fullWidth:!0,label:"Venue Address*",value:t.venueAddress,onChange:n("venueAddress"),sx:{mb:2},required:!0}),e.jsxs(s,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(c,{fullWidth:!0,label:"Latitude",value:t.latitude,onChange:n("latitude"),type:"number"}),e.jsx(c,{fullWidth:!0,label:"Longitude",value:t.longitude,onChange:n("longitude"),type:"number"})]}),e.jsx(c,{fullWidth:!0,label:"Contact Phone*",value:t.contactPhone,onChange:n("contactPhone"),sx:{mb:2},required:!0}),e.jsx(c,{fullWidth:!0,label:"Contact Email*",value:t.contactEmail,onChange:n("contactEmail"),sx:{mb:2},required:!0}),e.jsx(c,{fullWidth:!0,label:"Contact Website",value:t.contactWebsite,onChange:n("contactWebsite"),sx:{mb:2}}),e.jsx(c,{fullWidth:!0,label:"Owner/Manager Name*",value:t.ownerManagerName,onChange:n("ownerManagerName"),sx:{mb:2},required:!0}),e.jsx(c,{fullWidth:!0,label:"Owner/Manager Phone",value:t.ownerManagerPhone,onChange:n("ownerManagerPhone"),sx:{mb:2}}),e.jsx(c,{fullWidth:!0,label:"Owner/Manager Email",value:t.ownerManagerEmail,onChange:n("ownerManagerEmail"),sx:{mb:2}}),e.jsxs(s,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(c,{fullWidth:!0,label:"Opening Hours*",value:t.openingHours,onChange:n("openingHours"),required:!0}),e.jsx(c,{fullWidth:!0,label:"Closing Hours*",value:t.closingHours,onChange:n("closingHours"),required:!0})]}),e.jsx(c,{fullWidth:!0,label:"Holiday Schedule",multiline:!0,rows:2,value:t.holidaySchedule,onChange:n("holidaySchedule")})]})}),e.jsx(p,{sx:{flex:C?"auto":1,p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Venue Thumbnail"}),e.jsxs(ie,{onDragOver:a=>a.preventDefault(),onDrop:X("thumbnail"),onClick:()=>document.getElementById("thumbnail-upload").click(),children:[t.thumbnail&&t.thumbnail[0]?e.jsxs(s,{children:[e.jsx("img",{src:URL.createObjectURL(t.thumbnail[0]),alt:"Thumbnail preview",style:{maxWidth:"100%",maxHeight:100,objectFit:"contain",marginBottom:l.spacing(1)}}),e.jsx(r,{variant:"body2",color:"text.secondary",children:t.thumbnail[0].name})]}):e.jsxs(s,{children:[e.jsx(se,{sx:{fontSize:40,color:l.palette.grey[400],mb:1}}),e.jsx(r,{variant:"body2",color:"primary",children:"Click to upload"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"Or drag and drop (JPG, PNG)"})]}),e.jsx("input",{type:"file",id:"thumbnail-upload",hidden:!0,accept:"image/jpeg,image/png",onChange:Q("thumbnail")})]})]})})]}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Media Enhancements"}),e.jsxs(ie,{onDragOver:a=>a.preventDefault(),onDrop:X("images"),onClick:()=>document.getElementById("images-upload").click(),sx:{mb:2},children:[t.images.length>0?e.jsxs(s,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:[t.images.map((a,o)=>e.jsx("img",{src:URL.createObjectURL(a),alt:`Venue image ${o+1}`,style:{maxWidth:80,maxHeight:80,objectFit:"cover",borderRadius:l.shape.borderRadius}},o)),e.jsxs(r,{variant:"body2",color:"text.secondary",sx:{mt:1,width:"100%"},children:[t.images.length," image(s) selected"]})]}):e.jsxs(s,{children:[e.jsx(se,{sx:{fontSize:40,color:l.palette.grey[400],mb:1}}),e.jsx(r,{variant:"body2",color:"primary",children:"Click to upload images"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"Or drag and drop (Gallery)"})]}),e.jsx("input",{type:"file",id:"images-upload",hidden:!0,accept:"image/jpeg,image/png",multiple:!0,onChange:Q("images")})]}),e.jsx(b,{control:e.jsx(A,{checked:t.watermarkProtection,onChange:n("watermarkProtection")}),label:"Enable Watermark Protection"})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Venue Facilities"}),e.jsxs(s,{sx:{display:"grid",gridTemplateColumns:C?"1fr":"repeat(2, 1fr)",gap:2},children:[e.jsxs(te,{spacing:2,children:[e.jsx(b,{control:e.jsx(A,{checked:t.parkingAvailability,onChange:n("parkingAvailability")}),label:"Parking Availability"}),e.jsx(c,{fullWidth:!0,label:"Parking Capacity",value:t.parkingCapacity,onChange:n("parkingCapacity"),type:"number"}),e.jsx(b,{control:e.jsx(A,{checked:t.foodCateringAvailability,onChange:n("foodCateringAvailability")}),label:"Food & Catering"}),e.jsx(b,{control:e.jsx(A,{checked:t.stageLightingAudio,onChange:n("stageLightingAudio")}),label:"Stage/Lighting/Audio"})]}),e.jsxs(te,{spacing:2,children:[e.jsx(b,{control:e.jsx(A,{checked:t.wheelchairAccessibility,onChange:n("wheelchairAccessibility")}),label:"Wheelchair Accessibility"}),e.jsx(b,{control:e.jsx(A,{checked:t.securityArrangements,onChange:n("securityArrangements")}),label:"Security Arrangements"}),e.jsx(b,{control:e.jsx(A,{checked:t.wifiAvailability,onChange:n("wifiAvailability")}),label:"Wi-Fi Availability"}),e.jsx(c,{fullWidth:!0,label:"Washrooms Info",value:t.washroomsInfo,onChange:n("washroomsInfo")}),e.jsx(c,{fullWidth:!0,label:"Dressing Rooms",value:t.dressingRooms,onChange:n("dressingRooms")})]})]})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Pricing & Booking"}),e.jsxs(Fe,{value:t.rentalType,onChange:n("rentalType"),sx:{display:"grid",gridTemplateColumns:C?"1fr":"repeat(2, 1fr)",gap:2},children:[e.jsx(p,{variant:"outlined",sx:{p:2,borderColor:t.rentalType==="hourly"?l.palette.primary.main:void 0},children:e.jsx(b,{value:"hourly",control:e.jsx(re,{}),label:"Hourly"})}),e.jsx(p,{variant:"outlined",sx:{p:2,borderColor:t.rentalType==="daily"?l.palette.primary.main:void 0},children:e.jsx(b,{value:"daily",control:e.jsx(re,{}),label:"Daily"})})]}),t.rentalType==="hourly"&&e.jsx(c,{fullWidth:!0,label:"Hourly Price*",value:t.hourlyPrice,onChange:n("hourlyPrice"),type:"number",inputProps:{step:"0.01"},sx:{mt:2},required:!0}),t.rentalType==="daily"&&e.jsx(c,{fullWidth:!0,label:"Daily Price*",value:t.perDayPrice,onChange:n("perDayPrice"),type:"number",inputProps:{step:"0.01"},sx:{mt:2},required:!0}),e.jsx(c,{fullWidth:!0,label:"Discount (%)",value:t.discount,onChange:n("discount"),type:"number",inputProps:{min:0,max:100},sx:{mt:2}}),e.jsx(c,{fullWidth:!0,label:"Custom Packages",multiline:!0,rows:2,value:t.customPackages,onChange:n("customPackages"),sx:{mt:2}}),e.jsx(b,{control:e.jsx(A,{checked:t.dynamicPricing,onChange:n("dynamicPricing")}),label:"Dynamic Pricing",sx:{mt:2}}),e.jsx(c,{fullWidth:!0,label:"Advance Deposit (%)",value:t.advanceDeposit,onChange:n("advanceDeposit"),type:"number",inputProps:{min:0,max:100},sx:{mt:2}}),e.jsx(c,{fullWidth:!0,label:"Cancellation Policy",multiline:!0,rows:2,value:t.cancellationPolicy,onChange:n("cancellationPolicy"),sx:{mt:2}}),e.jsx(c,{fullWidth:!0,label:"Extra Charges",multiline:!0,rows:2,value:t.extraCharges,onChange:n("extraCharges"),sx:{mt:2}})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Capacity & Layout"}),e.jsxs($e,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Me,{children:"Seating Arrangement*"}),e.jsxs(Ve,{value:t.seatingArrangement,onChange:n("seatingArrangement"),label:"Seating Arrangement",required:!0,children:[e.jsx(H,{value:"",children:"Select seating arrangement"}),e.jsx(H,{value:"Theater",children:"Theater"}),e.jsx(H,{value:"Banquet",children:"Banquet"}),e.jsx(H,{value:"Classroom",children:"Classroom"})]})]}),e.jsxs(s,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(c,{fullWidth:!0,label:"Max Guests (Seated)*",value:t.maxGuestsSeated,onChange:n("maxGuestsSeated"),type:"number",required:!0}),e.jsx(c,{fullWidth:!0,label:"Max Guests (Standing)",value:t.maxGuestsStanding,onChange:n("maxGuestsStanding"),type:"number"})]}),e.jsx(b,{control:e.jsx(A,{checked:t.multipleHalls,onChange:n("multipleHalls")}),label:"Multiple Halls"})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Location & Accessibility"}),e.jsx(c,{fullWidth:!0,label:"Nearby Transport",multiline:!0,rows:2,value:t.nearbyTransport,onChange:n("nearbyTransport"),sx:{mb:2}}),e.jsx(c,{fullWidth:!0,label:"Accessibility Info",multiline:!0,rows:2,value:t.accessibilityInfo,onChange:n("accessibilityInfo"),sx:{mb:2}})]})})}),e.jsx(s,{sx:{mb:4},children:e.jsx(p,{sx:{p:2,boxShadow:"none",border:`1px solid ${l.palette.grey[200]}`},children:e.jsxs(w,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Search Tags"}),e.jsx(c,{fullWidth:!0,label:"Search Tags (comma-separated)",value:t.searchTags,onChange:n("searchTags"),placeholder:"e.g., event, wedding, conference"})]})})}),e.jsxs(s,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(j,{variant:"outlined",onClick:V,disabled:$,children:"Reset"}),e.jsx(j,{variant:"contained",type:"submit",disabled:$,startIcon:$?e.jsx(ee,{size:20}):null,children:$?"Processing...":D?"Update Venue":"Create Venue"})]})]})]});return e.jsx(s,{sx:{p:C?2:3,backgroundColor:l.palette.grey[100],minHeight:"100vh"},children:e.jsxs(s,{sx:{maxWidth:"lg",margin:"auto",backgroundColor:"white",borderRadius:l.shape.borderRadius,boxShadow:l.shadows[1],p:C?2:3},children:[S==="list"?fe():ve(),Ce(),e.jsx(Se,{open:ge,autoHideDuration:3e3,onClose:(a,o)=>o!=="clickaway"&&v(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(We,{onClose:()=>v(!1),severity:me,children:xe})})]})})};export{Ke as default};
