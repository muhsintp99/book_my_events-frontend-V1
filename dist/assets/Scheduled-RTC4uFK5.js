import{r as c,u as P,e as H,j as e,B as U,T as z,K as B,S as f,d as a,g as d,J as L,N as V,Q as F,U as g,V as n,W as M,_ as N,$ as R,a0 as K,F as O,I as Q,H as J,M as o,a1 as X}from"./index-C-AtCVLN.js";const $=()=>{const[S,h]=c.useState(!1),[u,C]=c.useState(""),[r,v]=c.useState(null),[p,x]=c.useState([{id:1,scheduleId:"SCH001",tripId:100036,scheduleDate:"2025-02-08T12:40",driverInfo:"Unassigned",vehicleInfo:"Unassigned",status:"Pending"},{id:2,scheduleId:"SCH002",tripId:100035,scheduleDate:"2025-02-06T17:56",driverInfo:"Ruth Kerry kuzo**@gmail.com",vehicleInfo:"1 Vehicle",status:"Assigned"},{id:3,scheduleId:"SCH003",tripId:100033,scheduleDate:"2025-02-06T17:43",driverInfo:"Unassigned",vehicleInfo:"Unassigned",status:"Completed"}]),[t,j]=c.useState({scheduleId:"",tripId:"",scheduleDate:"",driverInfo:"",vehicleInfo:"",status:"Pending"}),D=P(),b=H(D.breakpoints.down("sm")),T=()=>h(!0),I=()=>{h(!1),v(null),j({scheduleId:"",tripId:"",scheduleDate:"",driverInfo:"",vehicleInfo:"",status:"Pending"})},i=s=>{const{name:l,value:m}=s.target;j(E=>({...E,[l]:m}))},w=s=>{C(s.target.value)},k=()=>{if(r)x(s=>s.map(l=>l.id===r?{...t,id:r}:l));else{const s={...t,id:p.length+1};x(l=>[...l,s])}I()},y=s=>{j({...s}),v(s.id),h(!0)},W=s=>{x(l=>l.filter(m=>m.id!==s))},A=p.filter(s=>s.scheduleId.toLowerCase().includes(u.toLowerCase())||s.tripId.toString().includes(u));return e.jsxs(U,{p:2,children:[e.jsx(z,{variant:"h4",gutterBottom:!0,children:"Trip Schedules"}),e.jsxs(B,{sx:{mt:2,width:"100%"},children:[e.jsxs(f,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},p:2,children:[e.jsx(a,{variant:"contained",onClick:T,children:"Add New Schedule"}),e.jsx(d,{label:"Search by Schedule ID or Trip ID",variant:"outlined",size:"small",value:u,onChange:w,sx:{maxWidth:{sm:300}}}),e.jsx(a,{variant:"contained",color:"primary",children:"Export"})]}),e.jsx(L,{sx:{width:"100%",overflowX:"auto"},children:e.jsxs(V,{stickyHeader:!0,children:[e.jsx(F,{children:e.jsxs(g,{children:[e.jsx(n,{children:"S#"}),e.jsx(n,{children:"Schedule ID"}),e.jsx(n,{children:"Trip ID"}),e.jsx(n,{children:"Schedule Date"}),e.jsx(n,{children:"Driver Info"}),e.jsx(n,{children:"Vehicle Info"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Action"})]})}),e.jsx(M,{children:A.map((s,l)=>e.jsxs(g,{children:[e.jsx(n,{children:l+1}),e.jsx(n,{children:s.scheduleId}),e.jsx(n,{children:s.tripId}),e.jsx(n,{children:new Date(s.scheduleDate).toLocaleString()}),e.jsx(n,{children:s.driverInfo}),e.jsx(n,{children:s.vehicleInfo}),e.jsx(n,{children:s.status}),e.jsx(n,{children:e.jsxs(f,{direction:"row",spacing:1,children:[e.jsx(a,{variant:"outlined",size:"small",onClick:()=>y(s),children:"Edit"}),e.jsx(a,{variant:"outlined",size:"small",children:"View"}),e.jsx(a,{variant:"outlined",color:"error",size:"small",onClick:()=>W(s.id),children:"Delete"})]})})]},s.id))})]})})]}),e.jsxs(N,{open:S,onClose:I,maxWidth:"sm",fullWidth:!0,fullScreen:b,children:[e.jsx(R,{children:r?"Edit Schedule":"Add New Schedule"}),e.jsxs(K,{dividers:!0,children:[e.jsx(d,{fullWidth:!0,label:"Schedule ID",name:"scheduleId",value:t.scheduleId,onChange:i,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Trip ID",name:"tripId",value:t.tripId,onChange:i,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Schedule Date & Time",name:"scheduleDate",type:"datetime-local",InputLabelProps:{shrink:!0},value:t.scheduleDate,onChange:i,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Driver Info",name:"driverInfo",value:t.driverInfo,onChange:i,sx:{mb:2}}),e.jsx(d,{fullWidth:!0,label:"Vehicle Info",name:"vehicleInfo",value:t.vehicleInfo,onChange:i,sx:{mb:2}}),e.jsxs(O,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Q,{children:"Status"}),e.jsxs(J,{name:"status",value:t.status,onChange:i,label:"Status",children:[e.jsx(o,{value:"Pending",children:"Pending"}),e.jsx(o,{value:"Assigned",children:"Assigned"}),e.jsx(o,{value:"Completed",children:"Completed"}),e.jsx(o,{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs(X,{children:[e.jsx(a,{onClick:I,children:"Cancel"}),e.jsx(a,{variant:"contained",onClick:k,children:r?"Update":"Save"})]})]})]})};export{$ as default};
