import{r as t,j as e,B as m,T as p,K as f,S as d,g as k,d as l,J as w,N as S,Q as B,U as r,V as s,W as y}from"./index-Bv9CUdV4.js";import{a as C}from"./index-Ov-tEB_r.js";const A=()=>{const[a,h]=t.useState(""),[x,j]=t.useState([]),[o,u]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const i=await C.get("http://localhost:5000/api/bookings");j(i.data.bookings||[])}catch(i){console.error("Error fetching bookings:",i)}finally{u(!1)}})()},[]);const g=n=>h(n.target.value),c=x.filter(n=>(n.fullName||"").toLowerCase().includes(a.toLowerCase())||(n.emailAddress||"").toLowerCase().includes(a.toLowerCase())||n._id.includes(a));return e.jsxs(m,{p:2,children:[e.jsx(p,{variant:"h4",gutterBottom:!0,children:"All Bookings"}),e.jsxs(f,{sx:{mt:2,width:"100%"},children:[e.jsxs(d,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},p:2,children:[e.jsx(k,{label:"Search by Booking ID, Name, Email",variant:"outlined",size:"small",value:a,onChange:g,sx:{maxWidth:{sm:300}}}),e.jsx(l,{variant:"contained",color:"primary",children:"Export"})]}),e.jsx(w,{sx:{width:"100%",overflowX:"auto"},children:e.jsxs(S,{stickyHeader:!0,children:[e.jsx(B,{children:e.jsxs(r,{children:[e.jsx(s,{children:"S#"}),e.jsx(s,{children:"Booking ID"}),e.jsx(s,{children:"Customer"}),e.jsx(s,{children:"Email"}),e.jsx(s,{children:"Booking Date"}),e.jsx(s,{children:"Guests"}),e.jsx(s,{children:"Amount"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Payment Status"}),e.jsx(s,{children:"Action"})]})}),e.jsxs(y,{children:[o&&e.jsx(r,{children:e.jsx(s,{colSpan:10,align:"center",children:"Loading..."})}),!o&&c.map((n,i)=>e.jsxs(r,{children:[e.jsx(s,{children:i+1}),e.jsx(s,{children:n._id}),e.jsx(s,{children:n.fullName||"N/A"}),e.jsx(s,{children:n.emailAddress||"N/A"}),e.jsx(s,{children:new Date(n.bookingDate).toLocaleDateString()}),e.jsx(s,{children:n.numberOfGuests}),e.jsx(s,{children:n.finalPrice}),e.jsx(s,{children:n.status}),e.jsx(s,{children:n.paymentStatus}),e.jsx(s,{children:e.jsxs(d,{direction:"row",spacing:1,children:[e.jsx(l,{variant:"outlined",size:"small",children:"View"}),e.jsx(l,{variant:"outlined",size:"small",children:"Download"})]})})]},n._id)),!o&&c.length===0&&e.jsx(r,{children:e.jsx(s,{colSpan:10,align:"center",children:"No bookings found"})})]})]})})]})]})};export{A as default};
