import{r as c,a as We,j as e,B as h,S as te,C as H,T as f,Z as xe,A as pe,d as v,q as me,m as fe,g as W,M as k,c as re,a6 as ze,o as ye,b as Le,l as Oe,a7 as je,a8 as be,D as Fe,J as _e,K as Ue,N as Be,Q as He,U as ae,V as y,W as Je,a3 as Ve,X as Ye,Y as Ge,_ as qe,$ as Ke,a0 as Xe,a1 as Qe}from"./index-CgvkLXhQ.js";import{C as Ze}from"./CloudUpload-CXdiHdg2.js";import{S as et}from"./Search-DS6UMqv3.js";import{E as tt}from"./ExpandMore-hDX_ElcU.js";import{E as rt}from"./FileDownload-tD0lsIHS.js";import{E as at}from"./TableView-DDvE5aaM.js";import{C as st}from"./Description-BlVNf_SV.js";const z="https://api.bookmyevent.ae/api",J="static_transport_123456789012345678901234",se={_id:J,title:"Transport",name:"Transport"};function gt(){const[p,ot]=c.useState(0),[A,Ce]=c.useState(""),[M,V]=c.useState(null),[oe,Y]=c.useState(null),[N,ne]=c.useState([]),[T,G]=c.useState(!0),[w,$]=c.useState(null),[L,q]=c.useState("all"),[l,O]=c.useState({name:"",description:"",parentCategory:"",module:J,displayOrder:0,isActive:!0,isFeatured:!1,metaTitle:"",metaDescription:""}),[C,ve]=c.useState([]),[u,b]=c.useState(!0),[I,j]=c.useState(null),[K,ie]=c.useState({open:!1,message:"",severity:"success"}),[F,_]=c.useState({open:!1,categoryId:null,categoryName:""}),[le,de]=c.useState(null),ke=!!le,g=We(),R=c.useRef(null),m=[{key:"default",label:"Default"},{key:"english",label:"English(EN)"},{key:"arabic",label:"Arabic - العربية(AR)"}],E=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),we=()=>{const t=localStorage.getItem("user")||sessionStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).role}catch{return null}},ce=()=>{const t=localStorage.getItem("user")||sessionStorage.getItem("user");if(!t)return null;try{return JSON.parse(t)._id}catch{return null}},X=c.useCallback(async()=>{const t=E();if(!t){$("You are not authenticated. Please log in."),G(!1);return}G(!0),$(null);try{const r=await fetch(`${z}/modules`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(r.status===401){$("Session expired. Please log in again."),g("/login");return}if(!r.ok){const n=await r.text();throw new Error(`HTTP error! status: ${r.status}: ${n}`)}const a=await r.json();let o=[];Array.isArray(a)?o=a:Array.isArray(a.modules)?o=a.modules:a.data&&Array.isArray(a.data.modules)?o=a.data.modules:a.data&&Array.isArray(a.data)&&(o=a.data);const d=o.find(n=>(n.title||n.name||"").toLowerCase().includes("transport")),i=d?o:[se,...o];ne(i);const s=d||se;O(n=>({...n,module:s._id})),q(s._id)}catch(r){console.error("fetchModules error:",r),$(r.message),x("Failed to fetch modules – using static Transport","warning"),ne([se]),O(a=>({...a,module:J})),q(J)}finally{G(!1)}},[g]),D=c.useCallback(async()=>{const t=E();if(!t){j("You are not authenticated. Please log in."),b(!1);return}b(!0),j(null);try{const r=`${z}/categories?search=${encodeURIComponent(A)}`,a=await fetch(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(a.status===401){j("Session expired. Please log in again."),g("/login");return}if(a.status===403){j("Access denied. You don't have permission to view categories."),g("/dashboard");return}if(!a.ok){const s=await a.text();throw new Error(`HTTP error! status: ${a.status}: ${s}`)}const o=await a.json();let d=[];Array.isArray(o)?d=o:Array.isArray(o.categories)?d=o.categories:o.data&&Array.isArray(o.data.categories)?d=o.data.categories:o.data&&Array.isArray(o.data)&&(d=o.data);const i=d.map(s=>{let n="";return s.image&&(s.image.startsWith("http://")||s.image.startsWith("https://")?n=s.image:s.image.startsWith("/uploads")||s.image.startsWith("uploads")?n=`https://api.bookmyevent.ae${s.image.startsWith("/")?s.image:`/${s.image}`}`:n=`https://api.bookmyevent.ae/${s.image}`),{id:s._id,names:{default:s.title||s.name||"",english:s.title||s.name||"",arabic:s.title||s.name||""},status:s.isActive!==void 0?s.isActive:!0,image:n,module:s.module||null,parentCategory:s.parentCategory||null,raw:s}});ve(i)}catch(r){console.error("fetchCategories error:",r),j(r.message),x(`Failed to fetch categories: ${r.message}`,"error")}finally{b(!1)}},[A,g]);c.useEffect(()=>{const t=we();if(!E()){j("You are not authenticated. Please log in."),b(!1);return}if(!["admin","manager","superadmin"].includes(t)){j("Access denied. Admin, Manager, or Superadmin role required."),b(!1),g("/dashboard");return}X(),D()},[X,D,g]);const U=(t,r)=>{O(a=>({...a,[t]:r}))},Se=t=>{const r=t.target.files[0];if(!r)return;if(!r.type.startsWith("image/")){x("Please select a valid image file (JPEG, PNG, GIF, WebP, SVG)","error");return}if(r.size>5*1024*1024){x("File size should be less than 5MB","error");return}V(r);const a=new FileReader;a.onload=o=>Y(o.target.result),a.readAsDataURL(r)},ue=()=>{O(t=>({...t,name:"",description:"",parentCategory:"",module:t.module||(N.length>0?N[0]._id:""),displayOrder:0,isActive:!0,isFeatured:!1,metaTitle:"",metaDescription:""})),V(null),Y(null),R.current&&(R.current.value="")},Ae=async()=>{const t=E();if(!t){j("You are not authenticated. Please log in."),g("/login");return}if(!l.name.trim()){x("Please enter a category title in Default","error");return}if(!l.module||!/^[0-9a-fA-F]{24}$/.test(l.module)){x("Please select a valid module","error");return}if(!M){x("Please upload an image","error");return}b(!0);try{const r=new FormData;r.append("title",l.name.trim()),r.append("module",l.module),l.description.trim()&&r.append("description",l.description.trim()),l.parentCategory&&r.append("parentCategory",l.parentCategory),r.append("displayOrder",l.displayOrder),r.append("isActive",l.isActive),r.append("isFeatured",l.isFeatured),l.metaTitle.trim()&&r.append("metaTitle",l.metaTitle.trim()),l.metaDescription.trim()&&r.append("metaDescription",l.metaDescription.trim()),r.append("createdBy",ce()),r.append("image",M);const a=await fetch(`${z}/categories`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:r});if(!a.ok){let i="Failed to add category";const s=a.status;try{const n=await a.text();let S;try{S=JSON.parse(n),i=S.error||i}catch{i=n||i}if(s===401){j("Session expired. Please log in again."),g("/login");return}if(s===403){j("Access denied. You don't have permission to create categories."),g("/dashboard");return}s===502&&(i="Server error: Unable to connect to the backend service. Please try again later.")}catch{i="Failed to parse server response. Please try again."}throw new Error(i)}const o=await await a.json(),d=o.data?.category||o.category||o;x(`Category "${d.title||d.name}" added successfully!`,"success"),ue(),D()}catch(r){console.error("Add error:",r);const a=r.message.includes("Failed to fetch")?"Network error: Unable to reach the server. Please check your connection.":r.message||"Failed to add category";x(a,"error")}finally{b(!1)}},Te=t=>g(`/categories/edit/${t}`),Ie=t=>{const r=C.find(a=>a.id===t);_({open:!0,categoryId:t,categoryName:r?.names?.default||""})},$e=async()=>{const t=E();if(!t){g("/login");return}b(!0);try{const r=await fetch(`${z}/categories/${F.categoryId}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const a=await r.text();let o={error:a};try{o=JSON.parse(a)}catch{}throw new Error(o.error||`HTTP ${r.status}`)}x(`Category "${F.categoryName}" deleted!`,"success"),_({open:!1,categoryId:null,categoryName:""}),D()}catch(r){x(`Delete failed: ${r.message}`,"error")}finally{b(!1)}},Ee=async t=>{const r=E();if(!r){g("/login");return}const a=C.find(i=>i.id===t);if(!a)return;const o=a.status?`/categories/${t}/block`:`/categories/${t}/reactivate`,d=a.status?"blocked":"reactivated";b(!0);try{const i=await fetch(`${z}${o}`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({updatedBy:ce()})});if(!i.ok){const s=await i.text();let n={error:s};try{n=JSON.parse(s)}catch{}throw new Error(n.error||`HTTP ${i.status}`)}x(`Category "${a.names.default}" ${d}`,"info"),D()}catch(i){x(`Status change failed: ${i.message}`,"error")}finally{b(!1)}},x=(t,r="success")=>{ie({open:!0,message:t,severity:r})},he=()=>ie(t=>({...t,open:!1})),De=()=>g("/login"),Pe=()=>g("/dashboard"),ge=()=>{X(),D()},B=()=>m[p].key,P=C.filter(t=>{const r=B(),a=t.names[r].toLowerCase().includes(A.toLowerCase());if(L==="all")return a;const o=t.module?._id===L||t.parentCategory&&C.find(d=>d.id===t.parentCategory)?.module?._id===L;return a&&o}).sort((t,r)=>!t.parentCategory&&r.parentCategory?-1:t.parentCategory&&!r.parentCategory?1:0),Me=t=>de(t.currentTarget),Q=()=>de(null),Ne=()=>{const t=B(),r=["SI","ID",`Name (${t})`,"Module","Parent","Status"],a=P.map((n,S)=>{const Z=n.parentCategory&&C.find(ee=>ee.id===n.parentCategory)?.names.default||"—";return[S+1,n.id,n.names[t],n.module?.title||(n.parentCategory?"—":"N/A"),Z,n.status?"Active":"Inactive"]});let o=r.join(",")+`
`+a.map(n=>n.map(S=>`"${S}"`).join(",")).join(`
`);const d=new Blob([o],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(d),s=document.createElement("a");s.href=i,s.download=`categories_${t}_${new Date().toISOString().split("T")[0]}.csv`,s.click(),URL.revokeObjectURL(i),Q(),x("CSV downloaded","success")},Re=()=>{const t=B(),r=["SI","ID",`Name (${t})`,"Module","Parent","Status"],a=P.map((n,S)=>{const Z=n.parentCategory&&C.find(ee=>ee.id===n.parentCategory)?.names.default||"—";return[S+1,n.id,n.names[t],n.module?.title||(n.parentCategory?"—":"N/A"),Z,n.status?"Active":"Inactive"]});let o=r.join("	")+`
`+a.map(n=>n.join("	")).join(`
`);const d=new Blob([o],{type:"application/vnd.ms-excel;charset=utf-8;"}),i=URL.createObjectURL(d),s=document.createElement("a");s.href=i,s.download=`categories_${t}_${new Date().toISOString().split("T")[0]}.xls`,s.click(),URL.revokeObjectURL(i),Q(),x("Excel downloaded","success")};return u&&C.length===0&&T?e.jsx(h,{sx:{p:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsxs(te,{alignItems:"center",spacing:2,children:[e.jsx(H,{}),e.jsx(f,{children:"Loading categories and modules..."})]})}):e.jsxs(h,{sx:{width:"100%",minHeight:"100vh",backgroundColor:"#f5f5f5",p:{xs:2,sm:3}},children:[e.jsx(xe,{open:!!I||!!w,autoHideDuration:null,onClose:()=>{j(null),$(null)},children:e.jsx(pe,{severity:"error",onClose:()=>{j(null),$(null)},action:e.jsxs(te,{direction:"row",spacing:1,children:[(I?.includes("not authenticated")||w?.includes("not authenticated"))&&e.jsx(v,{color:"inherit",size:"small",onClick:De,children:"Login"}),(I?.includes("Access denied")||w?.includes("Access denied"))&&e.jsx(v,{color:"inherit",size:"small",onClick:Pe,children:"Dashboard"}),!(I?.includes("not authenticated")||I?.includes("Access denied"))&&!(w?.includes("not authenticated")||w?.includes("Access denied"))&&e.jsx(v,{color:"inherit",size:"small",onClick:ge,children:"Retry"})]}),children:I||w})}),e.jsx(h,{sx:{display:"flex",justifyContent:"center",mb:4},children:e.jsx(me,{sx:{width:"100%",maxWidth:"1400px",boxShadow:3,borderRadius:3},children:e.jsxs(fe,{sx:{p:{xs:2,sm:4}},children:[e.jsxs(f,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:["Title (",m[p].label,") ",e.jsx("span",{style:{color:"#f44336"},children:"*"})]}),e.jsx(W,{fullWidth:!0,value:m[p].key==="default"?l.name:"",onChange:t=>m[p].key==="default"&&U("name",t.target.value),placeholder:`Enter title in ${m[p].label}`,variant:"outlined",disabled:m[p].key!=="default",sx:{mb:4,"& .MuiOutlinedInput-root":{direction:m[p].key==="arabic"?"rtl":"ltr"}}}),e.jsx(f,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:"Parent Category"}),e.jsxs(W,{select:!0,fullWidth:!0,value:l.parentCategory,onChange:t=>U("parentCategory",t.target.value),SelectProps:{displayEmpty:!0,renderValue:t=>t?C.find(a=>a.id===t)?.names.default||t:e.jsx("em",{children:"None"})},variant:"outlined",sx:{mb:4},children:[e.jsx(k,{value:"",children:e.jsx("em",{children:"None"})}),C.filter(t=>!t.parentCategory&&t.module?._id===l.module).map(t=>e.jsx(k,{value:t.id,children:t.names.default},t.id))]}),e.jsxs(f,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:["Module ",e.jsx("span",{style:{color:"#f44336"},children:"*"})]}),e.jsxs(W,{select:!0,fullWidth:!0,value:l.module,onChange:t=>{const r=t.target.value;U("module",r),U("parentCategory","")},variant:"outlined",disabled:T||!!w,sx:{mb:4},children:[T&&e.jsx(k,{value:"",children:"Loading..."}),w&&e.jsx(k,{value:"",children:"Error loading"}),N.length===0&&!T&&e.jsx(k,{value:"",children:"No modules"}),N.map(t=>e.jsx(k,{value:t._id,children:t.title||t.name||"Unnamed"},t._id))]}),e.jsxs(f,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:["Image ",e.jsx("span",{style:{color:"#f44336"},children:"*"})," ",e.jsx("span",{style:{color:"#e91e63",fontSize:"0.875rem"},children:"(Ratio 3:2)"})]}),e.jsxs(h,{sx:{display:"flex",gap:3,mb:4,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(h,{children:[e.jsx("input",{id:"img-input",type:"file",accept:"image/*",onChange:Se,ref:R,style:{display:"none"}}),e.jsx("label",{htmlFor:"img-input",children:e.jsxs(v,{component:"span",variant:"outlined",sx:{width:{xs:"100%",sm:240},height:{xs:100,sm:140},border:"2px dashed #e0e0e0",borderRadius:2,display:"flex",flexDirection:"column",gap:1,color:"text.secondary",textTransform:"none","&:hover":{borderColor:"#2196f3",backgroundColor:"#e3f2fd",border:"2px dashed #2196f3"}},children:[e.jsx(Ze,{sx:{fontSize:40,color:"#bdbdbd"}}),e.jsx(f,{variant:"body2",color:"text.secondary",children:M?"Change Image":"Upload Image"})]})})]}),oe&&e.jsxs(h,{sx:{position:"relative"},children:[e.jsxs(h,{sx:{width:{xs:"100%",sm:240},height:{xs:160,sm:140},border:"2px solid #e0e0e0",borderRadius:2,overflow:"hidden"},children:[e.jsx("img",{src:oe,alt:"preview",style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx(re,{size:"small",onClick:()=>{Y(null),V(null),R.current&&(R.current.value="")},sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0,0,0,0.5)",color:"white","&:hover":{backgroundColor:"rgba(0,0,0,0.7)"}},children:e.jsx(ze,{fontSize:"small"})})]}),e.jsx(f,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:M?.name})]})]}),e.jsxs(h,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-end"},gap:2},children:[e.jsx(v,{variant:"outlined",onClick:ue,disabled:u||T,sx:{px:4,py:1.5,textTransform:"none",borderColor:"#e0e0e0",color:"#666","&:hover":{borderColor:"#bdbdbd",backgroundColor:"#f5f5f5"}},children:"Reset"}),e.jsx(v,{variant:"contained",onClick:Ae,disabled:!l.name.trim()||!l.module||!/^[0-9a-fA-F]{24}$/.test(l.module)||!M||u||T,sx:{px:4,py:1.5,backgroundColor:"#00695c",textTransform:"none","&:hover":{backgroundColor:"#004d40"},"&:disabled":{backgroundColor:"#e0e0e0",color:"#999"}},children:u?e.jsx(H,{size:20,color:"inherit"}):"Add"})]})]})})}),e.jsx(h,{sx:{display:"flex",justifyContent:"center"},children:e.jsx(me,{sx:{width:"100%",maxWidth:"1400px",boxShadow:3,borderRadius:3},children:e.jsxs(fe,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(h,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:2,mb:3},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(f,{variant:"h6",fontWeight:600,children:"Category List"}),e.jsx(ye,{label:P.length,size:"small",sx:{backgroundColor:"#e3f2fd",color:"#2196f3",fontWeight:600}}),e.jsx(ye,{label:`Language: ${m[p].label}`,size:"small",sx:{backgroundColor:"#e8f5e8",color:"#2e7d32",fontWeight:500}})]}),e.jsxs(h,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[e.jsxs(W,{select:!0,size:"small",value:L,onChange:t=>q(t.target.value),sx:{minWidth:{xs:"100%",sm:200}},disabled:u||T,children:[e.jsx(k,{value:"all",children:"All Modules"}),N.map(t=>e.jsx(k,{value:t._id,children:t.title||t.name||"Unnamed"},t._id))]}),e.jsx(W,{size:"small",placeholder:`Search in ${m[p].label}`,value:A,onChange:t=>Ce(t.target.value),sx:{minWidth:{xs:"100%",sm:250,md:300},"& .MuiOutlinedInput-root":{direction:m[p].key==="arabic"?"rtl":"ltr"}},InputProps:{startAdornment:e.jsx(Le,{position:"start",children:e.jsx(et,{sx:{color:"#bdbdbd"}})})},disabled:u}),e.jsx(v,{variant:"outlined",startIcon:e.jsx(rt,{}),endIcon:e.jsx(tt,{}),onClick:Me,sx:{textTransform:"none",borderColor:"#e0e0e0",color:"#2196f3","&:hover":{borderColor:"#2196f3",backgroundColor:"#e3f2fd"}},disabled:u||P.length===0,children:"Export"}),e.jsxs(Oe,{anchorEl:le,open:ke,onClose:Q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{minWidth:180,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",borderRadius:2,mt:1}},children:[e.jsxs(k,{onClick:Re,sx:{py:1.5,px:2},children:[e.jsx(je,{children:e.jsx(at,{sx:{color:"#1976d2"}})}),e.jsx(be,{primary:"Export to Excel",primaryTypographyProps:{fontWeight:500}})]}),e.jsx(Fe,{}),e.jsxs(k,{onClick:Ne,sx:{py:1.5,px:2},children:[e.jsx(je,{children:e.jsx(st,{sx:{color:"#2e7d32"}})}),e.jsx(be,{primary:"Export to CSV",primaryTypographyProps:{fontWeight:500}})]})]})]})]}),u&&C.length>0&&e.jsx(h,{display:"flex",justifyContent:"center",p:2,children:e.jsx(H,{size:24})}),e.jsx(_e,{component:Ue,sx:{overflowX:"auto"},children:e.jsxs(Be,{size:"small",children:[e.jsx(He,{sx:{backgroundColor:"#fafafa"},children:e.jsxs(ae,{children:[e.jsx(y,{sx:{fontWeight:600,color:"#666"},children:"SI"}),e.jsx(y,{sx:{fontWeight:600,color:"#666"},children:"Image"}),e.jsxs(y,{sx:{fontWeight:600,color:"#666",direction:m[p].key==="arabic"?"rtl":"ltr"},children:["Name (",m[p].label,")"]}),e.jsx(y,{sx:{fontWeight:600,color:"#666"},children:"Module"}),e.jsx(y,{sx:{fontWeight:600,color:"#666"},children:"Status"}),e.jsx(y,{sx:{fontWeight:600,color:"#666"},children:"Action"})]})}),e.jsx(Je,{children:P.length>0?P.map((t,r)=>{const a=B(),o=!!t.parentCategory;return e.jsxs(ae,{sx:{"&:hover":{backgroundColor:"#f9f9f9"},backgroundColor:o?"#fafafa":"inherit"},children:[e.jsx(y,{children:r+1}),e.jsx(y,{children:t.image?e.jsx(h,{sx:{width:50,height:35,borderRadius:1,overflow:"hidden",border:"1px solid #e0e0e0"},children:e.jsx("img",{src:t.image,alt:t.names[a],style:{width:"100%",height:"100%",objectFit:"cover"},onError:d=>{d.target.style.display="none",d.target.parentElement.innerHTML='<div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#f5f5f5;font-size:10px;color:#999;">Error</div>'}})}):e.jsx(h,{sx:{width:50,height:35,borderRadius:1,backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #e0e0e0"},children:e.jsx(f,{variant:"caption",color:"text.secondary",children:"No Image"})})}),e.jsx(y,{sx:{fontWeight:500,direction:m[p].key==="arabic"?"rtl":"ltr",pl:o?4:2},children:e.jsxs(f,{variant:"body2",sx:{wordBreak:"break-word"},children:[o&&e.jsx("span",{style:{opacity:.6,marginRight:4},children:"—"}),t.names[a]]})}),e.jsx(y,{children:e.jsx(f,{variant:"body2",children:t.module?t.module.title||"N/A":o?"—":"None"})}),e.jsx(y,{children:e.jsx(Ve,{checked:t.status,onChange:()=>Ee(t.id),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#2196f3"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#2196f3"}},disabled:u})}),e.jsx(y,{children:e.jsxs(h,{sx:{display:"flex",gap:1},children:[e.jsx(re,{size:"small",onClick:()=>Te(t.id),sx:{color:"#2196f3"},disabled:u,children:e.jsx(Ye,{fontSize:"small"})}),e.jsx(re,{size:"small",onClick:()=>Ie(t.id),sx:{color:"#f44336"},disabled:u,children:e.jsx(Ge,{fontSize:"small"})})]})})]},t.id)}):e.jsx(ae,{children:e.jsx(y,{colSpan:6,sx:{textAlign:"center",py:4,color:"#999"},children:e.jsxs(te,{spacing:2,alignItems:"center",children:[e.jsx(f,{variant:"h6",color:"textSecondary",children:u?"Loading...":A?`No results for "${A}" in ${m[p].label}`:"No categories available."}),I||w?e.jsx(v,{variant:"outlined",onClick:ge,children:"Retry"}):!u&&!A&&e.jsx(f,{variant:"body2",color:"textSecondary",children:"Create your first category using the form above"})]})})})})]})})]})})}),e.jsxs(qe,{open:F.open,onClose:()=>_({open:!1,categoryId:null,categoryName:""}),maxWidth:"sm",fullWidth:!0,children:[e.jsx(Ke,{sx:{fontWeight:600},children:"Confirm Delete"}),e.jsx(Xe,{children:e.jsxs(f,{children:['Are you sure you want to delete "',F.categoryName,'"? This cannot be undone.']})}),e.jsxs(Qe,{sx:{p:3,gap:1},children:[e.jsx(v,{onClick:()=>_({open:!1,categoryId:null,categoryName:""}),variant:"outlined",sx:{textTransform:"none"},disabled:u,children:"Cancel"}),e.jsx(v,{onClick:$e,variant:"contained",color:"error",sx:{textTransform:"none"},disabled:u,children:u?e.jsx(H,{size:20,color:"inherit"}):"Delete"})]})]}),e.jsx(xe,{open:K.open,autoHideDuration:4e3,onClose:he,anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(pe,{onClose:he,severity:K.severity,variant:"filled",sx:{width:"100%"},children:K.message})})]})}export{gt as default};
